<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown Timer</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        .countdown {
            font-size: 24px;
            margin: 20px 0;
        }
        .task {
            margin: 10px 0;
        }
        .checkbox {
            margin-right: 10px;
        }
        .completed {
            text-decoration: line-through;
            color: gray;
        }
    </style>
</head>
<body>

<h1>Отсчет до встречи</h1>
<div id="countdown-1" class="countdown"></div>

<h2>Подзадачи</h2>
<div class="task">
    <input type="checkbox" class="checkbox" id="task-1" onchange="toggleTask(this, 'task-1-text')">
    <span id="task-1-text">Отправка СДЭК до 29 ноября</span>
    <div id="countdown-2" class="countdown"></div>
</div>
<div class="task">
    <input type="checkbox" class="checkbox" id="task-2" onchange="toggleTask(this, 'task-2-text')">
    <span id="task-2-text">Сбор вещей до 28 ноября</span>
    <div id="countdown-3" class="countdown"></div>
</div>
<div class="task">
    <input type="checkbox" class="checkbox" id="task-3" onchange="toggleTask(this, 'task-3-text')">
    <span id="task-3-text">Покупка билета до 5 ноября</span>
    <div id="countdown-4" class="countdown"></div>
</div>
<div class="task">
    <input type="checkbox" class="checkbox" id="task-4" onchange="toggleTask(this, 'task-4-text')">
    <span id="task-4-text">Купить чемодан до 3 ноября</span>
    <div id="countdown-5" class="countdown"></div>
</div>

<script>
    // Функция для вычисления времени до события
    function calculateCountdown(endTime, elementId) {
        const now = new Date().getTime();
        const distance = endTime - now;

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        const countdownElement = document.getElementById(elementId);
        if (distance < 0) {
            countdownElement.innerHTML = "Время вышло!";
        } else {
            countdownElement.innerHTML = days + " дней " + hours + " часов "
                + minutes + " минут " + seconds + " секунд ";
        }
    }

    // Обновление таймера
    setInterval(() => {
        const now = new Date();
        const endTime1 = new Date("2024-11-30T00:00:00").getTime();
        const endTime2 = new Date("2024-11-05T00:00:00").getTime();
        const endTime3 = new Date("2024-11-29T00:00:00").getTime();
        const endTime4 = new Date("2024-11-28T00:00:00").getTime();
        const endTime5 = new Date("2024-11-03T00:00:00").getTime();

        calculateCountdown(endTime1, "countdown-1");
        calculateCountdown(endTime2, "countdown-2");
        calculateCountdown(endTime3, "countdown-3");
        calculateCountdown(endTime4, "countdown-4");
        calculateCountdown(endTime5, "countdown-5");
    }, 1000);

    // Функция для обработки завершения задачи
    function toggleTask(checkbox, taskId) {
        const taskText = document.getElementById(taskId);
        if (checkbox.checked) {
            taskText.classList.add('completed');
        } else {
            taskText.classList.remove('completed');
        }
    }
</script>

</body>
</html>
